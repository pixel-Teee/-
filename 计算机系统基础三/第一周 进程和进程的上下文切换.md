# 第一周引言

进程的上下文切换是造成异常控制流的基本事件。



## 第1讲 异常控制流的概念



程序的正常执行顺序有哪两种？

1.按顺序取下一条指令执行

2.通过call/ret/jcc/jmp等指令跳转到转移目标地址处执行



CPU所执行的指令的地址指令称为CPU的控制流，

通过上述两种方式得到的控制流称为正常控制流。



### 异常控制流

CPU会因为遇到内部异常或外部中断等原因而打断程序的正常控制流，

转去执行操作系统提供的针对这些特殊事件的处理程序。



由于某些特殊情况引起用户程序的正常执行被打断所形成的**意味控制流**称为

**异常控制流(Exceptional Control Of Flow, ECF)。**



异常控制流的形成原因：



程序缺页也会造成异常控制流，这种异常是可以修复的，交给操作系统读取磁盘的程序的页。



什么情况会造成程序会停止下来呢，除零错误，溢出，越界，越级，用户层面跑到内核层面。



内部异常(缺页、越权、越级、整除0、溢出等)

外部中断(Ctrl-C、打印缺纸、DMA结束等)

这两种都是发生在硬件层面，上面那个会被CPU直接捕获，而下面则是程序发出信号，通过总线，发出信号到CPU的某个引脚上面。

进程的上下文切换(发生在操作系统层面)

一个进程直接发送信号给另一个进程(发生在应用软件层)



**我们只关注上面两种。**





































